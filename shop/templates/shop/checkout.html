{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Don-Shop | Commande</title>
    <!-- CSS-link -->
    <link rel="stylesheet" href="{%static 'css/bootstrap.min.css'%}">
    <link rel="shorcut icon" href="{%static 'image/iconez.png'%}">
    

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
<script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="{%static 'style.css'%}">
</head>
<body>
  <section class="loaders">
    <span class="loader loader-quart"></span>
    <!-- chargement... -->
</section>
    <header>
        <a href="{% url 'home' %}" class="logo"><img src="{%static 'image/logo.png'%}" alt=""></a>
        <ul class="navmenu">
            <li><a href="{% url 'home' %}">accueil</a></li>
            <li><a href="#trending">produit</a></li>
            <li><a href="#">a propos</a></li>
        </ul>
        <div class="nav-icon">
            <div class="bx bx-menu" id="menu-icon"></div>
        </div>
    </header>
    <main>
        <div class="row">
            <div class="col-md-12">
                <ul class="list-group" id="item-list">
                    <h3 class="text-center badge badge-danger badge-pill">Votre panier</h3>
                   
                   
                </ul>
            </div>
        </div>
        <form method="POST" action="">
            {% csrf_token %}
            <input type="hidden" id="items", name="items">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputEmail4">Nom</label>
                <input type="text" id="nom" name="nom" class="form-control" id="inputEmail4" placeholder="votre nom" required="">
              </div>
              <div class="form-group col-md-6">
                <label for="inputPassword4">Email</label>
                <input type="email" id="email" name="email" class="form-control" id="inputPassword4" placeholder="votre address email" required="">
              </div>
            </div>
            <div class="form-group">
              <label for="inputAddress">Address</label>
              <input type="text" id="address" name="address" class="form-control" id="inputAddress" placeholder="votre Address" required="">
            </div>
            <div class="form-group">
              <label for="inputAddress">numero</label>
              <input type="tel" id="num" name="num" class="form-control" id="inputAddress" placeholder="votre numero de tel" required="" value="+242 ">
            </div>
            
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputCity">Ville</label>
                <input type="text" name="ville" id="ville" class="form-control" id="inputCity">
              </div>
              <div class="form-group col-md-4">
                <label for="inputState">Pays</label>
                <select id="pays" name="pays" class="form-control">
                    <option value="">Sélectionnez un pays</option>
                    <option >Afghanistan</option>
                    <option >Afrique du Sud</option>
                    <option >Albanie</option>
                    <option >Algérie</option>
                    <option >Allemagne</option>
                    <option >Andorre</option>
                    <option >Angola</option>
                    <option >Anguilla</option>
                    <option >Antarctique</option>
                    <option >Antigua-et-Barbuda</option>
                    <option >Antilles néerlandaises</option>
                    <option >Arabie saoudite</option>
                    <option >Argentine</option>
                    <option >Arménie</option>
                    <option >Aruba</option>
                    <option >Australie</option>
                    <option >Autriche</option>
                    <option >Azerbaïdjan</option>
                    <option >Bahamas</option>
                    <option >Bahreïn</option>
                    <option >Bangladesh</option>
                    <option >Barbade</option>
                    <option >Belgique</option>
                    <option >Belize</option>
                    <option >Bénin</option>
                    <option >Bermudes</option>
                    <option >Bhoutan</option>
                    <option >Biélorussie</option>
                    <option >Bolivie</option>
                    <option >Bosnie-Herzégovine</option>
                    <option >Botswana</option>
                    <option >Brésil</option>
                    <option >Brunei</option>
                    <option >Bulgarie</option>
                    <option >Burkina Faso</option>
                    <option >Burundi</option>
                    <option >Cambodge</option>
                    <option >Cameroun</option>
                    <option >Canada</option>
                    <option >Cap-Vert</option>
                    <option >Chili</option>
                    <option >Chine</option>
                    <option >Chypre</option>
                    <option >Colombie</option>
                    <option >Comores</option>
                    <option >Congo</option>
                    <option >Corée du Nord</option>
                    <option >Corée du Sud</option>
                    <option >Costa Rica</option>
                    <option >Côte d'Ivoire</option>
                    <option >Croatie</option>
                    <option >Cuba</option>
                    <option >Danemark</option>
                    <option >Djibouti</option>
                    <option >Dominique</option>
                    <option >Égypte</option>
                    <option >Émirats arabes unis</option>
                    <option >Équateur</option>
                    <option >Érythrée</option>
                    <option >Espagne</option>
                    <option >Estonie</option>
                    <option >États-Unis</option>
                    <option >Éthiopie</option>
                    <option >Fidji</option>
                    <option >Finlande</option>
                    <option >France</option>
                    <option >Gabon</option>
                    <option >Gambie</option>
                    <option >Géorgie</option>
                    <option >Ghana</option>
                    <option >Gibraltar</option>
                    <option >Grèce</option>
                    <option >Grenade</option>
                    <option >Groenland</option>
                    <option >Guadeloupe</option>
                    <option >Guatemala</option>
                    <option >Guinée</option>
                    <option >Guinée équatoriale</option>
                    <option >Guinée-Bissau</option>
                    <option >Guyane</option>
                    <option >Guyane française</option>
                    <option >Haïti</option>
                    <option >Honduras</option>
                    <option >Hongrie</option>
                    <option >Islande</option>
                    <option >Inde</option>
                    <option >Indonésie</option>
                    <option >Irak</option>
                    <option >Iran</option>
                    <option >Irlande</option>
                    <option >Israël</option>
                    <option >Italie</option>
                    <option >Jamaïque</option>
                    <option >Japon</option>
                    <option >Jordanie</option>
                    <option >Kazakhstan</option>
                    <option >Kenya</option>
                    <option >Kirghizistan</option>
                    <option >Kiribati</option>
                    <option >Koweït</option>
                    <option >Laos</option>
                    <option >Lesotho</option>
                    <option >Lettonie</option>
                    <option >Liban</option>
                    <option >Liberia</option>
                    <option >Libye</option>
                    <option >Liechtenstein</option>
                    <option >Lituanie</option>
                    <option >Luxembourg</option>
                    <option >Macédoine</option>
                    <option >Madagascar</option>
                    <option >Malaisie</option>
                    <option >Malawi</option>
                    <option >Maldives</option>
                    <option >Mali</option>
                    <option >Malte</option>
                    <option >Maroc</option>
                    <option >Martinique</option>
                    <option >Maurice</option>
                    <option >Mauritanie</option>
                    <option >Mayotte</option>
                    <option >Mexique</option>
                    <option >Micronésie</option>
                    <option >Moldavie</option>
                    <option >Monaco</option>
                    <option >Mongolie</option>
                    <option >Montserrat</option>
                    <option >Mozambique</option>
                    <option >Myanmar</option>
                    <option >Namibie</option>
                    <option >Nauru</option>
                    <option >Népal</option>
                    <option >Nicaragua</option>
                    <option >Niger</option>
                    <option >Nigéria</option>
                    <option >Niue</option>
                    <option >Norvège</option>
                    <option >Nouvelle-Calédonie</option>
                    <option >Nouvelle-Zélande</option>
                    <option >Oman</option>
                    <option >Ouganda</option>
                    <option >Ouzbékistan</option>
                    <option >Pakistan</option>
                    <option >Panama</option>
                    <option >Papouasie-Nouvelle-Guinée</option>
                    <option >Paraguay</option>
                    <option >Pays-Bas</option>
                    <option >Pérou</option>
                    <option >Philippines</option>
                    <option >Pitcairn</option>
                    <option >Pologne</option>
                    <option >Polynésie française</option>
                    <option >Porto Rico</option>
                    <option >Portugal</option>
                    <option >Qatar</option>
                    <option >République centrafricaine</option>
                    <option >République démocratique du Congo</option>
                    <option >République dominicaine</option>
                    <option >République tchèque</option>
                    <option >Réunion</option>
                    <option >Roumanie</option>
                    <option >Royaume-Uni</option>
                    <option >Russie</option>
                    <option >Rwanda</option>
                    <option >Sahara occidental</option>
                    <option >Saint-Barthélemy</option>
                    <option >Saint-Kitts-et-Nevis</option>
                    <option >Saint-Marin</option>
                    <option >Saint-Martin</option>
                    <option >Saint-Pierre-et-Miquelon</option>
                    <option >Saint-Vincent-et-les-Grenadines</option>
                    <option >Sainte-Hélène</option>
                    <option >Sainte-Lucie</option>
                    <option >Salvador</option>
                    <option >Samoa</option>
                    <option >Samoa américaines</option>
                    <option >Sao Tomé-et-Principe</option>
                    <option >Sénégal</option>
                    <option >Serbie</option>
                    <option >Seychelles</option>
                    <option >Sierra Leone</option>
                    <option >Singapour</option>
                    <option >Slovaquie</option>
                    <option >Slovénie</option>
                    <option >Somalie</option>
                    <option >Soudan</option>
                    <option >Sri Lanka</option>
                    <option >Suède</option>
                    <option >Suisse</option>
                    <option >Suriname</option>
                    <option >Svalbard et Jan Mayen</option>
                    <option >Swaziland</option>
                    <option >Syrie</option>
                    <option >Tadjikistan</option>
                    <option >Taïwan</option>
                    <option >Tanzanie</option>
                    <option >Tchad</option>
                    <option >Terres australes françaises</option>
                    <option >Territoire britannique de l'océan Indien</option>
                    <option >Thaïlande</option>
                    <option >Timor oriental</option>
                    <option >Togo</option>
                    <option >Tokelau</option>
                    <option >Tonga</option>
                    <option >Trinité-et-Tobago</option>
                    <option >Tunisie</option>
                    <option >Turkménistan</option>
                    <option >Turks-et-Caïcos</option>
                    <option >Turquie</option>
                    <option >Tuvalu</option>
                    <option >Ukraine</option>
                    <option >Uruguay</option>
                    <option >Vanuatu</option>
                    <option >Venezuela</option>
                    <option >Vietnam</option>
                    <option >Wallis-et-Futuna</option>
                    <option >Yémen</option>
                    <option >Zambie</option>
                    <option >Zimbabwe</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-2">
                <label for="inputZip">Somme total a payer </label>
                <input name="total" id="total" readonly="true" class=" bg-dark text-warning form-control" >
              </div>
          </div>
            <div class="form-group">
            <button type="submit" class="btn btn-primary">Commander</button>
          </form>
    </div>
</div>
    </main>
    <script src="{%static 'java.js'%}"></script>
</body>
{% block js%}
<script type ="text/javascript">
    if(localStorage.getItem('panier')== null){
    var panier={};
}else{
    panier = JSON.parse(localStorage.getItem('panier'));
}
var total= 0;
var nombre= 0;
for(item in panier){
    let nom =panier[item][1];
    let quantite = panier[item][0];
    let prix = panier[item][2]
    nombre += quantite;
    total += prix;
    let itemSrting=`<li class="list-group-item d-flex justify-content-between align-items-center">
              ${nom}
              <span class="badge badge-primary badge-pill"> QTE: ${quantite}</span>
              <span class="badge badge-warning badge-pill">${prix} Fcfa</span>
            </li>`;
            $('#item-list').append(itemSrting);
    }
    let itemNombre=`<li class="list-group-item d-flex justify-content-between align-items-center">
              <b class=" badge-pill ">PRIX ET QUANTITE TOTAL</b>
              <span class="badge badge-danger badge-pill"> TQTE: ${nombre}</span>
              <span class="badge badge-danger badge-pill">${total} Fcfa</span>
            </li>`;
            $('#item-list').append(itemNombre);
            $('#total').val(total+" Fcfa");
            localStorage.clear()
        


        $('#items').val(JSON.stringify(panier));

</script>
{% endblock %}